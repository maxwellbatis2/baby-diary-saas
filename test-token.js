const axios = require('axios'); const BASE_URL = 'http://localhost:3000'; async function testToken() { console.log('üß™ Testando envio de token...'); try { const loginResponse = await axios.post(\\/api/auth/admin/login\, { email: 'admin@babydiary.com', password: 'admin123' }); const token = loginResponse.data.data.token; console.log('‚úÖ Login bem-sucedido'); console.log(\Token: \...\); const testResponse = await axios.get(\\/api/admin/test-auth\, { headers: { 'Authorization': \Bearer \\ } }); console.log('‚úÖ Endpoint com token funcionou'); console.log('Resposta:', testResponse.data); const dashboardResponse = await axios.get(\\/api/admin/dashboard\, { headers: { 'Authorization': \Bearer \\ } }); console.log('‚úÖ Dashboard funcionou'); console.log('Status:', dashboardResponse.status); } catch (error) { console.error('‚ùå Erro:', error.response?.data || error.message); } } testToken();
